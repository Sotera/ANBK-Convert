<Window x:Name="MainWindowName"
				x:Class="JistBridge.UI.MainWindow.MainWindow"
				xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
				xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
				xmlns:behaviors="clr-namespace:JistBridge.Behaviors"
				xmlns:ui="clr-namespace:JistBridge.UI.RichTextBox"
				xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
				xmlns:valueConverters="clr-namespace:JistBridge.UI.ValueConverters"
				Background="#FF333333"
				ResizeMode="CanResizeWithGrip"
				WindowStartupLocation="CenterScreen"
				Title="{Binding Title}"
				Icon="/JistBridge;component/Resources/bridge.ico">
	<Window.Resources>
			<valueConverters:PrependTextConverter x:Key="PrependTextConverter" />
	</Window.Resources>
	<Grid x:Name="LayoutRoot">
		<DockPanel>
			<Menu DockPanel.Dock="Top">
				<MenuItem Header="_File">
					<MenuItem Header="E_xit"
										Command="{Binding ExitCommand}" />
				</MenuItem>
				<MenuItem Header="_Tools">
					<MenuItem Header="_Properties"
										Command="{Binding ShowPropertyEditorCommand}" />
				</MenuItem>
				<MenuItem Header="_Help">
					<MenuItem Header="{Binding Title,Converter={StaticResource PrependTextConverter},ConverterParameter='_About '}"
										Command="{Binding ShowAboutBoxCommand}" />
				</MenuItem>
			</Menu>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Name="ChainPanel" CanVerticallyScroll="True">
                        <i:Interaction.Behaviors>
                            <behaviors:ManageChainsBehavior />
                        </i:Interaction.Behaviors>
                    </StackPanel>
                </ScrollViewer>
                <GridSplitter Grid.Row="1" Height="3" HorizontalAlignment="Stretch"/>
                <ui:RichTextBoxView Grid.Row="2" >
                    <i:Interaction.Behaviors>
                        <behaviors:WordBehavior />
                        <behaviors:ApplyMarkupBehavior/>
                    </i:Interaction.Behaviors>
                </ui:RichTextBoxView>
            </Grid>
		</DockPanel>
		<StatusBar VerticalAlignment="Bottom"
							 Foreground="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window, AncestorLevel=1}, Path=Foreground}"
							 Background="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window, AncestorLevel=1}, Path=Background}">
			<TextBlock Text="{Binding StatusMessage}"
								 Foreground="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window, AncestorLevel=1}, Path=Foreground}" />
		</StatusBar>
	</Grid>
</Window>